{"version":3,"sources":["blogue.js"],"names":["loadBlogue","xhr","XMLHttpRequest","open","onload","status","successData","JSON","parse","responseText","send","val","inf","focus","fullList","i","len","items","length","push","buildMain","buildList","failData","focusEle","document","getElementById","id","content","appendChild","buildH","title","buildImg","images","buildContent","buildLink","url","minorPost","listElemn","li","createElement","a","setAttribute","createTextNode","blogImg","blogHeading","divs","DOMParser","parseFromString","getElementsByTagName","blogWrap","blogP","textContent","blogLink","Ele","window"],"mappings":"AAGA,SAAAA,aAEA,IAAAC,IAAA,IAAAC,eAEAD,IAAAE,KAAA,MAAA,mMACAF,IAAAG,OAAA,WACA,MAAAH,IAAAI,QACAC,YAAAC,KAAAC,MAAAP,IAAAQ,gBAMAR,IAAAS,OAMA,SAAAJ,YAAAK,KAMA,IAAA,IAJAC,IAAA,IACAC,SACAC,YAEAC,EAAA,EAAAC,IAAAJ,IAAAK,MAAAC,OAAAH,EAAAC,IAAAD,IAEAA,EAAA,GACAF,MAAAM,KAAAP,IAAAK,MAAAF,IAEAD,SAAAK,KAAAP,IAAAK,MAAAF,IAGAK,UAAAP,OACAQ,UAAAP,UAMA,SAAAQ,YAOA,SAAAF,UAAAT,KAGA,IAAAY,SAAAC,SAAAC,eAAA,aAGAxB,IAAA,IAAAC,eAEAD,IAAAE,KAAA,MAAA,yEAAAQ,IAAA,GAAAe,GAAA,0GACAzB,IAAAG,OAAA,WACA,GAAA,MAAAH,IAAAI,OAAA,CACA,IAAAsB,QAAApB,KAAAC,MAAAP,IAAAQ,cAEAc,SAAAK,YAAAC,OAAAF,QAAAG,QACAP,SAAAK,YAAAG,SAAAJ,QAAAK,SACAT,SAAAK,YAAAK,aAAAN,QAAAA,UACAJ,SAAAK,YAAAM,UAAAP,QAAAQ,QAMAlC,IAAAS,OAGA,IAAA,IAAAK,EAAA,EAAAC,IAAAL,IAAAO,OAAAH,EAAAC,IAAAD,IACAqB,UAAAzB,IAAAI,GAAAW,GAAAX,GAOA,SAAAM,UAAAV,KAGA,IAAA,IADA0B,UAAAb,SAAAC,eAAA,QACAV,EAAA,EAAAC,IAAAL,IAAAO,OAAAH,EAAAC,IAAAD,IAAA,CACA,IAAAuB,GAAAd,SAAAe,cAAA,MACAC,EAAAhB,SAAAe,cAAA,KACAC,EAAAC,aAAA,OAAA9B,IAAAI,GAAAoB,KACAK,EAAAZ,YAAAJ,SAAAkB,eAAA/B,IAAAI,GAAAe,QACAQ,GAAAV,YAAAY,GACAH,UAAAT,YAAAU,KAMA,SAAAP,SAAApB,KAEA,IAAAgC,QAAAnB,SAAAe,cAAA,OAGA,OAFAI,QAAAF,aAAA,MAAA9B,IAAA,GAAAwB,KAEAQ,QAKA,SAAAd,OAAAlB,KAEA,IAAAiC,YAAApB,SAAAe,cAAA,MAEA,OADAK,YAAAhB,YAAAJ,SAAAkB,eAAA/B,MACAiC,YAKA,SAAAX,aAAAtB,KASA,IAAA,IAHAkC,MAFA,IAAAC,WACAC,gBAAApC,IAAA,aACAqC,qBAAA,OACAC,SAAAzB,SAAAe,cAAA,OAEAxB,EAAA,EAAAC,IAAA6B,KAAA3B,OAAAH,EAAAC,IAAAD,IAAA,CACA,IAAAmC,MAAA1B,SAAAe,cAAA,KACAW,MAAAtB,YAAAJ,SAAAkB,eAAAG,KAAA9B,GAAAoC,cACAF,SAAArB,YAAAsB,OAGA,OAAAD,SAKA,SAAAf,UAAAvB,KACA,IAAAyC,SAAA5B,SAAAe,cAAA,KAKA,OAHAa,SAAAX,aAAA,OAAA9B,KACAyC,SAAAxB,YAAAJ,SAAAkB,eAAA,kBAEAU,SAKA,SAAAhB,UAAAzB,IAAAI,GAEA,IAAAsC,IAAA7B,SAAAC,eAAAV,GACAd,IAAA,IAAAC,eAEAD,IAAAE,KAAA,MAAA,yEAAAQ,IAAA,2GACAV,IAAAG,OAAA,WACA,GAAA,MAAAH,IAAAI,OAAA,CACA,IAAAsB,QAAApB,KAAAC,MAAAP,IAAAQ,cAEA4C,IAAAzB,YAAAC,OAAAF,QAAAG,QACAuB,IAAAzB,YAAAG,SAAAJ,QAAAK,SACAqB,IAAAzB,YAAAM,UAAAP,QAAAQ,QAMAlC,IAAAS,OArKA4C,OAAAlD,OAAAJ","file":"../all.min.js","sourcesContent":["\r\nwindow.onload = loadBlogue();\r\n\r\nfunction loadBlogue() {\r\n\r\n      var xhr = new XMLHttpRequest();\r\n\r\n      xhr.open('GET', 'https://www.googleapis.com/blogger/v3/blogs/5844238035868473137/posts?fetchBodies=false&fetchImages=false&orderBy=published&status=live&view=READER&key=AIzaSyAV7brZF-F8ZxonIzqova14F6jtyKZ71wc');\r\n      xhr.onload = function() {\r\n          if (xhr.status === 200) {\r\n              successData(JSON.parse(xhr.responseText));\r\n          }\r\n          else {\r\n              // alert('Request failed.  Returned status of ' + xhr.status);\r\n          }\r\n        };\r\n      xhr.send();\r\n\r\n  }\r\n/*===================================================================================*/\r\n// work the data on success event\r\n/*===================================================================================*/\r\nfunction successData(val) {\r\n// console.log(val);\r\n  var inf = (val),\r\n      focus = [],\r\n      fullList =[];\r\n\r\n  for (var i = 0, len = inf.items.length; i < len; i++) {\r\n\r\n      if (i < 4) {\r\n        focus.push(inf.items[i]);\r\n      }\r\n        fullList.push(inf.items[i]);\r\n  }\r\n\r\n  buildMain(focus);\r\n  buildList(fullList);\r\n\r\n}\r\n/*===================================================================================*/\r\n// on fail event\r\n/*===================================================================================*/\r\nfunction failData() {\r\n\r\n\r\n}\r\n/*===================================================================================*/\r\n// build main content\r\n/*===================================================================================*/\r\nfunction buildMain(val) {\r\n  // console.log(val);\r\n\r\n    var focusEle = document.getElementById(\"MainFocus\");\r\n\r\n    //main post in focus, with content\r\n    var xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('GET', 'https://www.googleapis.com/blogger/v3/blogs/5844238035868473137/posts/'+val[0].id+'?fetchBody=true&fetchImages=true&maxComments=0&view=READER&key=AIzaSyAV7brZF-F8ZxonIzqova14F6jtyKZ71wc');\r\n    xhr.onload = function() {\r\n        if (xhr.status === 200) {\r\n            var content = JSON.parse(xhr.responseText);\r\n            // console.log(content);\r\n            focusEle.appendChild(buildH(content.title));\r\n            focusEle.appendChild(buildImg(content.images));\r\n            focusEle.appendChild(buildContent(content.content));\r\n            focusEle.appendChild(buildLink(content.url));\r\n        }\r\n        else {\r\n            // alert('Request failed.  Returned status of ' + xhr.status);\r\n        }\r\n      };\r\n    xhr.send();\r\n\r\n    // minor post below the main\r\n    for (var i = 1, len = val.length; i < len; i++) {\r\n      minorPost(val[i].id,i);\r\n    }\r\n\r\n}\r\n/*===================================================================================*/\r\n// build list of all posts links\r\n/*===================================================================================*/\r\nfunction buildList(val) {\r\n  // console.log(val);\r\n  var listElemn = document.getElementById(\"list\");\r\n  for(var i = 0, len = val.length; i < len; i++){\r\n          var li = document.createElement(\"li\"),\r\n              a = document.createElement(\"a\");\r\n          a.setAttribute('href',val[i].url);\r\n          a.appendChild(document.createTextNode(val[i].title));\r\n          li.appendChild(a);\r\n          listElemn.appendChild(li);\r\n      }\r\n}\r\n/*===================================================================================*/\r\n// function to build Img tag\r\n/*===================================================================================*/\r\nfunction buildImg(val){\r\n    // console.log(val);\r\n      var blogImg = document.createElement(\"img\");\r\n      blogImg.setAttribute('src', val[0].url);\r\n\r\n      return blogImg;\r\n}\r\n/*===================================================================================*/\r\n// function to build h2 tag\r\n/*===================================================================================*/\r\nfunction buildH(val){\r\n  // console.log(val);\r\n      var blogHeading = document.createElement(\"h2\");\r\n       blogHeading.appendChild(document.createTextNode(val));\r\n       return blogHeading;\r\n}\r\n/*===================================================================================*/\r\n// function to build content\r\n/*===================================================================================*/\r\nfunction buildContent(val){\r\n      // console.log(val);\r\n\r\n\r\n       var parser=new DOMParser(),\r\n       htmlDoc = parser.parseFromString(val, \"text/html\"),\r\n       divs = htmlDoc.getElementsByTagName(\"div\"),\r\n       blogWrap = document.createElement(\"div\");\r\n\r\n      for(var i = 0, len = divs.length; i < len; i++){\r\n          var blogP = document.createElement(\"p\");\r\n          blogP.appendChild(document.createTextNode(divs[i].textContent));\r\n          blogWrap.appendChild(blogP);\r\n      }\r\n\r\n      return blogWrap;\r\n}\r\n/*===================================================================================*/\r\n// function to build a tag\r\n/*===================================================================================*/\r\nfunction buildLink(val){\r\n      var blogLink = document.createElement(\"a\");\r\n\r\n      blogLink.setAttribute('href', val);\r\n      blogLink.appendChild(document.createTextNode('Read more ...'));\r\n\r\n      return blogLink;\r\n}\r\n/*===================================================================================*/\r\n// function to build minor posts\r\n/*===================================================================================*/\r\nfunction minorPost(val,i){\r\n  // console.log(val);\r\n    var Ele = document.getElementById(i),\r\n        xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('GET', 'https://www.googleapis.com/blogger/v3/blogs/5844238035868473137/posts/'+val+'?fetchBody=false&fetchImages=true&maxComments=0&view=READER&key=AIzaSyAV7brZF-F8ZxonIzqova14F6jtyKZ71wc');\r\n    xhr.onload = function() {\r\n        if (xhr.status === 200) {\r\n            var content = JSON.parse(xhr.responseText);\r\n            // console.log(content);\r\n            Ele.appendChild(buildH(content.title));\r\n            Ele.appendChild(buildImg(content.images));\r\n            Ele.appendChild(buildLink(content.url));\r\n        }\r\n        else {\r\n            // alert('Request failed.  Returned status of ' + xhr.status);\r\n        }\r\n      };\r\n    xhr.send();\r\n\r\n}\r\n"]}